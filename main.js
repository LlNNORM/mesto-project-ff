(()=>{"use strict";function e(e){e.remove()}function t(e){e.classList.toggle("card__like-button_is-active")}function n(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",p)}function o(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",p)}function r(e){o(e.target.closest(".popup"))}function p(e){var t=document.querySelector(".popup_is-opened");"Escape"===e.key&&o(t)}function c(e){e.target===e.currentTarget&&o(e.target)}var a=document.querySelector(".places__list"),u=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),d=document.querySelectorAll(".popup__close"),l=document.querySelectorAll(".popup"),s=document.querySelector(".popup_type_edit"),m=document.querySelector(".popup_type_new-card"),f=document.querySelector(".popup_type_image"),v=document.querySelector(".popup__image"),_=document.querySelector(".popup__caption"),y=document.forms.editProfile,k=y.elements.name,g=y.elements.description,q=document.querySelector(".profile__title"),E=document.querySelector(".profile__description"),P=document.forms.newPlace,S=P.elements.placeName,C=P.elements.link;function L(n){var o=n.cardList,r=n.cardsContainer,p=n.openImagePopup,c=n.positionBefore;o.forEach((function(n){var o=function(e){var t=e.cardData,n=e.deleteCard,o=e.likeCard,r=e.openImagePopup,p=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),c=p.querySelector(".card__delete-button"),a=p.querySelector(".card__like-button"),u=p.querySelector(".card__image"),i=p.querySelector(".card__title");return u.src=t.link,u.alt=t.alt,i.textContent=t.name,u.addEventListener("click",(function(){return r(t.link,i.textContent)})),c.addEventListener("click",(function(){return n(p)})),a.addEventListener("click",(function(){return o(a)})),p}({cardData:n,deleteCard:e,likeCard:t,openImagePopup:p});return c?r.prepend(o):r.append(o)}))}function I(e,t){n(f),v.src=e,v.alt="".concat(t," фото"),_.textContent=t}L({cardList:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Фото Архыза"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Фото Челябинской области"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Фото Иваново"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Фото Камчатки"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Фото Холмогорского района"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Фото Байкала"}],cardsContainer:a,openImagePopup:I,positionBefore:!1}),l.forEach((function(e){e.classList.add("popup_is-animated"),e.addEventListener("mousedown",c)})),u.addEventListener("click",(function(){k.value=q.textContent,g.value=E.textContent,n(s)})),i.addEventListener("click",(function(){return n(m)})),d.forEach((function(e){return e.addEventListener("click",r)})),y.addEventListener("submit",(function(e){return function(e){var t=e.profileTitle,n=e.profileDescription,o=e.nameInput,r=e.jobInput,p=e.closePopup,c=e.profileEditPopup;e.evt.preventDefault(),t.textContent=o.value,n.textContent=r.value,p(c)}({evt:e,profileTitle:q,profileDescription:E,nameInput:k,jobInput:g,closePopup:o,profileEditPopup:s})})),P.addEventListener("submit",(function(e){return function(e){var t=e.cardsContainer,n=e.newPlaceFormElement,o=e.placeInput,r=e.linkInput,p=e.renderCards,c=e.openImagePopup,a=e.closePopup,u=e.placeAddPopup;e.evt.preventDefault(),p({cardList:[{name:o.value,link:r.value,alt:"".concat(o.value," фото")}],cardsContainer:t,openImagePopup:c,positionBefore:!0}),n.reset(),a(u)}({evt:e,cardsContainer:a,newPlaceFormElement:P,placeInput:S,linkInput:C,renderCards:L,openImagePopup:I,closePopup:o,placeAddPopup:m})}))})();